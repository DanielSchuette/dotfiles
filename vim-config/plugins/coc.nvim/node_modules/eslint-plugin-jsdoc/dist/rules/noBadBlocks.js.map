{"version":3,"sources":["../../src/rules/noBadBlocks.js"],"names":["regexp","context","sourceCode","allComments","makeReport","ignore","options","nonJsdocNodes","filter","comment","match","exec","getText","includes","length","forEach","node","report","fix","fixer","text","replaceText","replace","checkFile","meta","docs","description","url","fixable","schema","additionalProperties","properties","items","type"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,MAAM,GAAG,4BAAf;;eAEe,2BAAa,CAAC;AAC3BC,EAAAA,OAD2B;AAE3BC,EAAAA,UAF2B;AAG3BC,EAAAA,WAH2B;AAI3BC,EAAAA;AAJ2B,CAAD,KAKtB;AACJ,QAAM,CACJ;AACEC,IAAAA,MAAM,GAAG,CACP,UADO,EAEP,iBAFO,EAGP,WAHO,EAIP,YAJO;AADX,MAOI,EARA,IASFJ,OAAO,CAACK,OATZ;AAUA,QAAMC,aAAa,GAAGJ,WAAW,CAACK,MAAZ,CAAoBC,OAAD,IAAa;AACpD,UAAMC,KAAK,GAAGV,MAAM,CAACW,IAAP,CAAYT,UAAU,CAACU,OAAX,CAAmBH,OAAnB,CAAZ,CAAd;;AACA,QAAI,CAACC,KAAL,EAAY;AACV,aAAO,KAAP;AACD;;AAED,WAAO,CAACL,MAAM,CAACQ,QAAP,CAAgBH,KAAK,CAAC,CAAD,CAArB,CAAR;AACD,GAPqB,CAAtB;;AAQA,MAAI,CAACH,aAAa,CAACO,MAAnB,EAA2B;AACzB;AACD;;AAEDP,EAAAA,aAAa,CAACQ,OAAd,CAAuBC,IAAD,IAAU;AAC9B,UAAMC,MAAM,GAAGb,UAAU,CAACH,OAAD,EAAUe,IAAV,CAAzB;;AAEA,UAAME,GAAG,GAAIC,KAAD,IAAW;AACrB,YAAMC,IAAI,GAAGlB,UAAU,CAACU,OAAX,CAAmBI,IAAnB,CAAb;AAEA,aAAOG,KAAK,CAACE,WAAN,CAAkBL,IAAlB,EAAwBI,IAAI,CAACE,OAAL,CAAa,IAAb,EAAmB,KAAnB,CAAxB,CAAP;AACD,KAJD;;AAKAL,IAAAA,MAAM,CAAC,0DAAD,EAA6DC,GAA7D,CAAN;AACD,GATD;AAUD,CAtCc,EAsCZ;AACDK,EAAAA,SAAS,EAAE,IADV;AAEDC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE;AACJC,MAAAA,WAAW,EAAE,kGADT;AAEJC,MAAAA,GAAG,EAAE;AAFD,KADF;AAKJC,IAAAA,OAAO,EAAE,MALL;AAMJC,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,oBAAoB,EAAE,KADxB;AAEEC,MAAAA,UAAU,EAAE;AACV1B,QAAAA,MAAM,EAAE;AACN2B,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE;AADD,WADD;AAINA,UAAAA,IAAI,EAAE;AAJA;AADE,OAFd;AAUEA,MAAAA,IAAI,EAAE;AAVR,KADM,CANJ;AAoBJA,IAAAA,IAAI,EAAE;AApBF;AAFL,CAtCY,C","sourcesContent":["import iterateJsdoc from '../iterateJsdoc';\n\nconst regexp = /^\\/\\*(?!\\*)[\\s*]*@([\\w-]+)/;\n\nexport default iterateJsdoc(({\n  context,\n  sourceCode,\n  allComments,\n  makeReport,\n}) => {\n  const [\n    {\n      ignore = [\n        'ts-check',\n        'ts-expect-error',\n        'ts-ignore',\n        'ts-nocheck',\n      ],\n    } = {},\n  ] = context.options;\n  const nonJsdocNodes = allComments.filter((comment) => {\n    const match = regexp.exec(sourceCode.getText(comment));\n    if (!match) {\n      return false;\n    }\n\n    return !ignore.includes(match[1]);\n  });\n  if (!nonJsdocNodes.length) {\n    return;\n  }\n\n  nonJsdocNodes.forEach((node) => {\n    const report = makeReport(context, node);\n\n    const fix = (fixer) => {\n      const text = sourceCode.getText(node);\n\n      return fixer.replaceText(node, text.replace('/*', '/**'));\n    };\n    report('Expected JSDoc-like comment to begin with two asterisks.', fix);\n  });\n}, {\n  checkFile: true,\n  meta: {\n    docs: {\n      description: 'This rule checks for multi-line-style comments which fail to meet the criteria of a jsdoc block.',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-no-bad-blocks',\n    },\n    fixable: 'code',\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          ignore: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n        },\n        type: 'object',\n      },\n    ],\n    type: 'layout',\n  },\n});\n"],"file":"noBadBlocks.js"}